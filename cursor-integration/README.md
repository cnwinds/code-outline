# code-outline Cursor é›†æˆå·¥å…·

åŸºäº code-outline çš„æ™ºèƒ½é¡¹ç›®ä¸Šä¸‹æ–‡ç”Ÿæˆå·¥å…·ï¼Œä¸“ä¸º Cursor ç¼–è¾‘å™¨é›†æˆè®¾è®¡ã€‚é€šè¿‡ Tree-sitter è§£æå™¨æä¾›é«˜ç²¾åº¦çš„ä»£ç ç»“æ„åˆ†æï¼Œä¸º LLM æä¾›å®Œæ•´çš„é¡¹ç›®ç†è§£èƒ½åŠ›ã€‚

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½

### 1. ç”Ÿæˆé¡¹ç›®ä¸Šä¸‹æ–‡
- é¦–æ¬¡ä½¿ç”¨æˆ–éœ€è¦å®Œæ•´é¡¹ç›®ä¸Šä¸‹æ–‡æ—¶ä½¿ç”¨
- ç”Ÿæˆæ•´ä¸ªé¡¹ç›®çš„ç»“æ„ã€æ–‡ä»¶å’Œæ–¹æ³•å®šä¹‰
- åˆ›å»º `code-outline.json` æ–‡ä»¶
- é€‚ç”¨äºï¼šæ–°é¡¹ç›®åˆ†æã€å®Œæ•´é‡æ„ã€æ¶æ„ç†è§£

### 2. æ›´æ–°é¡¹ç›®ä¸Šä¸‹æ–‡
- å½“æ–‡ä»¶å‘ç”Ÿå˜åŒ–åä½¿ç”¨
- å¢é‡æ›´æ–° `code-outline.json`ï¼Œåªé‡æ–°è§£æå·²ä¿®æ”¹çš„æ–‡ä»¶
- é€‚ç”¨äºï¼šæ–‡ä»¶ä¿®æ”¹åçš„ä¸Šä¸‹æ–‡æ›´æ–°ã€ä¿æŒé¡¹ç›®çŠ¶æ€åŒæ­¥

### 3. æŸ¥è¯¢ç‰¹å®šæ–‡ä»¶
- éœ€è¦äº†è§£ç‰¹å®šæ–‡ä»¶ç»“æ„æ—¶ä½¿ç”¨
- æŸ¥è¯¢æŒ‡å®šæ–‡ä»¶çš„æ–¹æ³•ã€ç±»ã€å‡½æ•°å®šä¹‰
- æ”¯æŒå¤šæ–‡ä»¶æŸ¥è¯¢ï¼Œä¸€æ¬¡è¿”å›å¤šä¸ªæ–‡ä»¶å†…å®¹
- é€‚ç”¨äºï¼šä»£ç å®¡æŸ¥ã€ç‰¹å®šæ¨¡å—åˆ†æã€å‡½æ•°è°ƒç”¨å…³ç³»ç†è§£

### 4. æŸ¥è¯¢ç›®å½•ç»“æ„
- éœ€è¦äº†è§£ç‰¹å®šç›®å½•ç»“æ„æ—¶ä½¿ç”¨
- æŸ¥è¯¢æŒ‡å®šç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶çš„æ–¹æ³•å’Œç±»å®šä¹‰
- é€‚ç”¨äºï¼šæ¨¡å—åˆ†æã€ç›®å½•ç»“æ„ç†è§£ã€ç›¸å…³æ–‡ä»¶æ‰¹é‡åˆ†æ

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å®‰è£…å·¥å…·

```bash
# è¿›å…¥å·¥å…·ç›®å½•
cd cursor-integration

# å®‰è£…åˆ° Cursor
python install-code-outline.py install

# æ£€æŸ¥å®‰è£…çŠ¶æ€
python install-code-outline.py check

# å¸è½½å·¥å…·
python install-code-outline.py uninstall
```

### é‡å¯ Cursor

å®‰è£…å®Œæˆåï¼Œé‡å¯ Cursor ç¼–è¾‘å™¨ä»¥åŠ è½½æ–°å·¥å…·ã€‚

### ä½¿ç”¨å·¥å…·

#### æ–¹æ³•ä¸€ï¼šä½¿ç”¨ Tasksï¼ˆæ¨èï¼‰

1. æ‰“å¼€æ‚¨çš„é¡¹ç›®
2. æŒ‰ `Ctrl+Shift+P` (Windows/Linux) æˆ– `Cmd+Shift+P` (macOS)
3. è¾“å…¥ "Tasks: Run Task" æˆ–ç›´æ¥è¾“å…¥ä»»åŠ¡åç§°ï¼š
   - **ç”Ÿæˆé¡¹ç›®ä¸Šä¸‹æ–‡** - åˆ†ææ•´ä¸ªé¡¹ç›®
   - **æ›´æ–°é¡¹ç›®ä¸Šä¸‹æ–‡** - æ›´æ–°å·²ä¿®æ”¹çš„æ–‡ä»¶
   - **æŸ¥è¯¢ç‰¹å®šæ–‡ä»¶** - åˆ†æå•ä¸ªæ–‡ä»¶
   - **æŸ¥è¯¢ç›®å½•ç»“æ„** - åˆ†æç›®å½•ç»“æ„

#### æ–¹æ³•äºŒï¼šä½¿ç”¨å¿«æ·é”®

- `Ctrl+Shift+G` - ç”Ÿæˆé¡¹ç›®ä¸Šä¸‹æ–‡
- `Ctrl+Shift+U` - æ›´æ–°é¡¹ç›®ä¸Šä¸‹æ–‡
- `Ctrl+Shift+Q` - æŸ¥è¯¢ç‰¹å®šæ–‡ä»¶
- `Ctrl+Shift+D` - æŸ¥è¯¢ç›®å½•ç»“æ„

#### æ–¹æ³•ä¸‰ï¼šå‘½ä»¤è¡Œä½¿ç”¨

```bash
# ç”Ÿæˆé¡¹ç›®ä¸Šä¸‹æ–‡
./build/code-outline.exe generate --path .

# æ›´æ–°é¡¹ç›®ä¸Šä¸‹æ–‡
./build/code-outline.exe update --path .

# æŸ¥è¯¢ç‰¹å®šæ–‡ä»¶
./build/code-outline.exe query --files "main.go,config.go" --path . --ouput query_result.json

# æŸ¥è¯¢ç›®å½•ç»“æ„
./build/code-outline.exe query --dirs "src/,internal/" --path . --ouput directory_query_result.json
```

## ğŸ“Š è¾“å‡ºæ–‡ä»¶è¯´æ˜

å·¥å…·ä¼šç”Ÿæˆä»¥ä¸‹æ–‡ä»¶ï¼š

- `code-outline.json` - å®Œæ•´çš„é¡¹ç›®ä¸Šä¸‹æ–‡æ–‡ä»¶
- `query_result.json` - ç‰¹å®šæ–‡ä»¶æŸ¥è¯¢ç»“æœ
- `directory_query_result.json` - ç›®å½•ç»“æ„æŸ¥è¯¢ç»“æœ

## ğŸ¯ ä½¿ç”¨åœºæ™¯

### 1. æ–°é¡¹ç›®åˆ†æ
åœ¨ Cursor ä¸­æŒ‰ `Ctrl+Shift+P`ï¼Œè¾“å…¥ "Tasks: Run Task"ï¼Œé€‰æ‹© "ç”Ÿæˆé¡¹ç›®ä¸Šä¸‹æ–‡"

### 2. ä»£ç å®¡æŸ¥
åœ¨ Cursor ä¸­æŒ‰ `Ctrl+Shift+P`ï¼Œè¾“å…¥ "Tasks: Run Task"ï¼Œé€‰æ‹© "æŸ¥è¯¢ç‰¹å®šæ–‡ä»¶"

### 3. é¡¹ç›®æ–‡æ¡£ç”Ÿæˆ
åœ¨ Cursor ä¸­æŒ‰ `Ctrl+Shift+P`ï¼Œè¾“å…¥ "Tasks: Run Task"ï¼Œé€‰æ‹© "ç”Ÿæˆé¡¹ç›®ä¸Šä¸‹æ–‡"

### 4. å¢é‡æ›´æ–°
åœ¨ Cursor ä¸­æŒ‰ `Ctrl+Shift+P`ï¼Œè¾“å…¥ "Tasks: Run Task"ï¼Œé€‰æ‹© "æ›´æ–°é¡¹ç›®ä¸Šä¸‹æ–‡"

## âš™ï¸ é…ç½®é€‰é¡¹

### å‘½ä»¤è¡Œå‚æ•°

```bash
./build/code-outline.exe [command] [options]

Commands:
  generate          ç”Ÿæˆé¡¹ç›®ä¸Šä¸‹æ–‡
  update            æ›´æ–°é¡¹ç›®ä¸Šä¸‹æ–‡
  query             æŸ¥è¯¢æ–‡ä»¶æˆ–ç›®å½•
  version           æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯

Options:
  --path PATH       é¡¹ç›®è·¯å¾„ (é»˜è®¤: å½“å‰ç›®å½•)
  --output FILE     è¾“å‡ºæ–‡ä»¶è·¯å¾„
  --exclude PATTERN æ’é™¤ç›®å½•æˆ–æ–‡ä»¶æ¨¡å¼
  --files FILES     æŒ‡å®šè¦æŸ¥è¯¢çš„æ–‡ä»¶ï¼ˆé€—å·åˆ†éš”ï¼‰
  --dirs DIRS       æŒ‡å®šè¦æŸ¥è¯¢çš„ç›®å½•ï¼ˆé€—å·åˆ†éš”ï¼‰
```

### æ”¯æŒçš„è¯­è¨€

- Go (.go)
- JavaScript (.js, .jsx)
- TypeScript (.ts, .tsx)
- Python (.py)
- Java (.java)
- C# (.cs)
- Rust (.rs)
- C/C++ (.c, .cpp, .h, .hpp)

## ğŸ”§ é«˜çº§åŠŸèƒ½

### 1. æ™ºèƒ½è§£æ

- åŸºäº Tree-sitter çš„é«˜ç²¾åº¦è¯­æ³•è§£æ
- æ”¯æŒå¤æ‚åµŒå¥—ç»“æ„
- è‡ªåŠ¨è¯†åˆ«å‡½æ•°ã€ç±»ã€æ–¹æ³•å®šä¹‰
- æå–æ³¨é‡Šå’Œæ–‡æ¡£å­—ç¬¦ä¸²

### 2. å¢é‡æ›´æ–°

```bash
# æ›´æ–°æŒ‡å®šæ–‡ä»¶
./build/code-outline.exe update --files "main.go,config.go"

# æ›´æ–°æŒ‡å®šç›®å½•
./build/code-outline.exe update --dirs "src/,internal/"
```

### 3. æ’é™¤æ¨¡å¼

```bash
# æ’é™¤ç‰¹å®šç›®å½•
./build/code-outline.exe generate --exclude "node_modules,vendor,.git"
```

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–

### æ€§èƒ½æŒ‡æ ‡

- å°é¡¹ç›®ï¼ˆ<100æ–‡ä»¶ï¼‰ï¼š< 5ç§’
- ä¸­ç­‰é¡¹ç›®ï¼ˆ100-1000æ–‡ä»¶ï¼‰ï¼š< 30ç§’
- å¤§é¡¹ç›®ï¼ˆ>1000æ–‡ä»¶ï¼‰ï¼š< 2åˆ†é’Ÿ

### ä¼˜åŒ–ç­–ç•¥

- å¹¶å‘æ–‡ä»¶å¤„ç†
- æ™ºèƒ½ç¼“å­˜æœºåˆ¶
- å¢é‡æ›´æ–°æ”¯æŒ
- å†…å­˜ä¼˜åŒ–

## ğŸ› æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

**Q: æ‰¾ä¸åˆ° code-outline å¯æ‰§è¡Œæ–‡ä»¶**
```bash
# ç¡®ä¿ code-outline å·²æ„å»º
cd ../../  # å›åˆ°é¡¹ç›®æ ¹ç›®å½•
make build
```

**Q: æƒé™é—®é¢˜**
```bash
# ç»™è„šæœ¬æ‰§è¡Œæƒé™
chmod +x install-code-outline.py
```

**Q: Cursor ä¸­æ‰¾ä¸åˆ°å·¥å…·**
```bash
# é‡æ–°å®‰è£…
python install-code-outline.py uninstall
python install-code-outline.py install
# ç„¶åé‡å¯ Cursor
```

**Q: Tree-sitter è§£æå™¨åˆå§‹åŒ–å¤±è´¥**
```bash
# æ£€æŸ¥ CGO æ˜¯å¦å¯ç”¨
go env CGO_ENABLED

# å¦‚æœä¸º falseï¼Œå¯ç”¨ CGO
export CGO_ENABLED=1  # Linux/macOS
set CGO_ENABLED=1     # Windows CMD
$env:CGO_ENABLED=1    # Windows PowerShell
```

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

### å¼€å‘ç¯å¢ƒè®¾ç½®

```bash
# å…‹éš†é¡¹ç›®
git clone <repository-url>
cd code-outline

# æ„å»ºé¡¹ç›®
make build

# è¿è¡Œæµ‹è¯•
make test
```

## ğŸ“„ è®¸å¯è¯

MIT License - è¯¦è§ LICENSE æ–‡ä»¶

---

**code-outline Cursor é›†æˆå·¥å…·** - è®©æ‚¨å¿«é€Ÿäº†è§£é¡¹ç›®ç»“æ„ï¼ ğŸ—ºï¸âœ¨